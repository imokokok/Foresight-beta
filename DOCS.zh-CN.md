# ğŸ“š Foresight å¼€å‘è€…æ–‡æ¡£

> å®Œæ•´çš„æŠ€æœ¯å‚è€ƒæ‰‹å†Œï¼Œæ¶µç›–æ™ºèƒ½åˆçº¦ã€å‰ç«¯æ¶æ„ã€API è®¾è®¡å’Œéƒ¨ç½²è¿ç»´ã€‚

---

## ğŸ“‘ ç›®å½•

- [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ)
- [æ™ºèƒ½åˆçº¦](#æ™ºèƒ½åˆçº¦)
- [å‰ç«¯æ¶æ„](#å‰ç«¯æ¶æ„)
- [API å‚è€ƒ](#api-å‚è€ƒ)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å®‰å…¨è§„èŒƒ](#å®‰å…¨è§„èŒƒ)

---

## æ¶æ„æ¦‚è§ˆ

Foresight é‡‡ç”¨ **é“¾ä¸‹æ’®åˆ + é“¾ä¸Šç»“ç®—** çš„æ··åˆæ¶æ„ï¼Œå®ç°äº†æ¥è¿‘ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€çš„ç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶ä¿æŒå®Œå…¨çš„å»ä¸­å¿ƒåŒ–ç»“ç®—ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·äº¤äº’å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Web App    â”‚  â”‚  Mobile App â”‚  â”‚  API Client â”‚  â”‚  Bot/SDK    â”‚   â”‚
â”‚  â”‚  (Next.js)  â”‚  â”‚  (Future)   â”‚  â”‚  (REST)     â”‚  â”‚  (Future)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚                â”‚
          â–¼                â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æœåŠ¡å±‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                      Relayer Service                                â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚
â”‚  â”‚  â”‚ Order Book  â”‚  â”‚  Matching   â”‚  â”‚  Event      â”‚                 â”‚â”‚
â”‚  â”‚  â”‚ Management  â”‚  â”‚  Engine     â”‚  â”‚  Ingestion  â”‚                 â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                         Supabase                                    â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚
â”‚  â”‚  â”‚  Orders     â”‚  â”‚  Trades     â”‚  â”‚  Candles    â”‚                 â”‚â”‚
â”‚  â”‚  â”‚  (å¾…æˆäº¤)   â”‚  â”‚  (å†å²æˆäº¤) â”‚  â”‚  (Kçº¿æ•°æ®)  â”‚                 â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              åŒºå—é“¾å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                      Polygon Network                                â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚
â”‚  â”‚  â”‚ Market      â”‚  â”‚ Outcome     â”‚  â”‚ UMA Oracle  â”‚                 â”‚â”‚
â”‚  â”‚  â”‚ Factory     â”‚  â”‚ Token 1155  â”‚  â”‚ Adapter V2  â”‚                 â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚  â”‚         â”‚                â”‚                â”‚                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚
â”‚  â”‚  â”‚              Market Instances                 â”‚                 â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ™ºèƒ½åˆçº¦

### åˆçº¦æ¶æ„

```
contracts/
â”œâ”€â”€ MarketFactory.sol              # å¸‚åœºå·¥å‚ï¼ˆUUPS å¯å‡çº§ï¼‰
â”œâ”€â”€ interfaces/
â”‚   â”œâ”€â”€ IOracle.sol                # é¢„è¨€æœºæ¥å£
â”‚   â””â”€â”€ IOracleRegistrar.sol       # å¸‚åœºæ³¨å†Œæ¥å£
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ OffchainMarketBase.sol     # å¸‚åœºåŸºç¡€åˆçº¦
â”‚   â”œâ”€â”€ OffchainBinaryMarket.sol   # äºŒå…ƒå¸‚åœºæ¨¡æ¿
â”‚   â””â”€â”€ OffchainMultiMarket8.sol   # å¤šå…ƒå¸‚åœºæ¨¡æ¿
â”œâ”€â”€ tokens/
â”‚   â””â”€â”€ OutcomeToken1155.sol       # ERC-1155 ç»“æœä»£å¸
â”œâ”€â”€ oracles/
â”‚   â””â”€â”€ UMAOracleAdapterV2.sol     # UMA é¢„è¨€æœºé€‚é…å™¨
â””â”€â”€ governance/
    â””â”€â”€ ForesightTimelock.sol      # æ²»ç†æ—¶é—´é”
```

### MarketFactory

å¸‚åœºå·¥å‚è´Ÿè´£åˆ›å»ºå’Œç®¡ç†æ‰€æœ‰é¢„æµ‹å¸‚åœºå®ä¾‹ã€‚

**æ ¸å¿ƒå‡½æ•°ï¼š**

```solidity
function createMarket(
    bytes32 templateId,          // æ¨¡æ¿IDï¼ˆbinary/multi8ï¼‰
    address oracle,              // é¢„è¨€æœºåœ°å€
    address collateral,          // æŠµæŠ¼ä»£å¸ï¼ˆUSDCï¼‰
    uint256 resolutionTime,      // ç»“ç®—æ—¶é—´
    uint256 feeBps,              // æ‰‹ç»­è´¹ï¼ˆåŸºç‚¹ï¼‰
    bytes calldata initData      // åˆå§‹åŒ–æ•°æ®
) external returns (address market);
```

### è®¢å•ç»“æ„

```solidity
struct Order {
    address maker;           // æŒ‚å•è€…
    uint256 outcomeIndex;    // ç»“æœç´¢å¼•
    bool isBuy;              // true=ä¹°å…¥ï¼Œfalse=å–å‡º
    uint256 price;           // ä»·æ ¼ï¼ˆUSDC 6 decimals / 1e18 ä»½é¢ï¼‰
    uint256 amount;          // ä»½é¢æ•°é‡ï¼ˆ1e18 ç²¾åº¦ï¼‰
    uint256 expiry;          // è¿‡æœŸæ—¶é—´æˆ³
    uint256 salt;            // å”¯ä¸€æ ‡è¯†ç¬¦
}
```

### å®‰å…¨ç‰¹æ€§

- âœ… ReentrancyGuard é‡å…¥ä¿æŠ¤
- âœ… é—ªç”µè´·æ”»å‡»é˜²æŠ¤ï¼ˆå•åŒºå—é™é¢ï¼‰
- âœ… æ‰¹é‡æ“ä½œå¤§å°é™åˆ¶ï¼ˆé˜² DoSï¼‰
- âœ… ECDSA ç­¾åå¯å»¶å±•æ€§ä¿æŠ¤
- âœ… ERC-1271 æ™ºèƒ½åˆçº¦é’±åŒ…æ”¯æŒ
- âœ… ç†”æ–­æœºåˆ¶ï¼ˆç´§æ€¥æš‚åœï¼‰

---

## å‰ç«¯æ¶æ„

### æŠ€æœ¯æ ˆ

| ç±»åˆ«   | æŠ€æœ¯                 | ç‰ˆæœ¬   |
| ------ | -------------------- | ------ |
| æ¡†æ¶   | Next.js (App Router) | 15.5.4 |
| UI     | React                | 19     |
| è¯­è¨€   | TypeScript           | 5.0    |
| æ ·å¼   | Tailwind CSS         | 3.4    |
| åŠ¨ç”»   | Framer Motion        | 11     |
| çŠ¶æ€   | React Query          | 5      |
| Web3   | ethers.js            | 6      |
| å›½é™…åŒ– | next-intl            | 3      |

### å›½é™…åŒ–

å‰ç«¯ä½¿ç”¨ `next-intl` è¿›è¡Œå›½é™…åŒ–ï¼Œæ”¯æŒçš„è¯­è¨€ï¼š

- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡
- ğŸ‡ºğŸ‡¸ English
- ğŸ‡ªğŸ‡¸ EspaÃ±ol
- ğŸ‡«ğŸ‡· FranÃ§ais
- ğŸ‡°ğŸ‡· í•œêµ­ì–´

---

## API å‚è€ƒ

### è®¤è¯ï¼ˆSIWEï¼‰

- **GET /api/siwe/nonce**ï¼šç”Ÿæˆå¹¶ä¸‹å‘ siwe_nonce Cookie
- **POST /api/siwe/verify**ï¼šéªŒè¯ç­¾åå¹¶åˆ›å»ºä¼šè¯

### é™æµ

| æ¡£ä½     | è¯·æ±‚/åˆ†é’Ÿ |
| -------- | --------- |
| strict   | 5         |
| moderate | 20        |
| relaxed  | 60        |
| lenient  | 120       |

### ç¤¾äº¤ç³»ç»Ÿ API

```text
# ç”¨æˆ·å…³æ³¨
POST /api/user-follows/user     # å…³æ³¨/å–æ¶ˆå…³æ³¨ç”¨æˆ·
GET  /api/user-follows/counts   # è·å–ç²‰ä¸æ•°å’Œå…³æ³¨æ•°

# è®¨è®º
GET  /api/discussions?proposalId=1
POST /api/discussions
PATCH /api/discussions/[id]
DELETE /api/discussions/[id]
```

### è®ºå› API

```text
GET  /api/forum?eventId=1       # è·å–è®ºå›ä¸»é¢˜åˆ—è¡¨
POST /api/forum                 # åˆ›å»ºä¸»é¢˜
POST /api/forum/comments        # åˆ›å»ºè¯„è®º
POST /api/forum/vote            # å¯¹ä¸»é¢˜/è¯„è®ºæŠ•ç¥¨
GET  /api/forum/user-votes      # è·å–ç”¨æˆ·çš„æŠ•ç¥¨è®°å½•
```

### Flag ç³»ç»Ÿ API

```text
GET  /api/flags                 # è·å– Flag åˆ—è¡¨
POST /api/flags                 # åˆ›å»º Flag
POST /api/flags/[id]/checkin    # æ‰“å¡
POST /api/flags/[id]/settle     # ç»“ç®— Flag
```

---

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨

```sql
-- è®¢å•ï¼ˆRelayer å†™å…¥ï¼‰
CREATE TABLE IF NOT EXISTS public.orders (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  verifying_contract TEXT NOT NULL,
  chain_id INTEGER NOT NULL,
  market_key TEXT,
  maker_address TEXT NOT NULL,
  maker_salt TEXT NOT NULL,
  outcome_index INTEGER NOT NULL,
  is_buy BOOLEAN NOT NULL,
  price TEXT NOT NULL,
  amount TEXT NOT NULL,
  remaining TEXT NOT NULL,
  expiry TIMESTAMPTZ NULL,
  signature TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'open',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- æˆäº¤ï¼ˆé“¾ä¸Šäº‹ä»¶ï¼‰
CREATE TABLE IF NOT EXISTS public.trades (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  network_id INTEGER NOT NULL,
  market_address TEXT NOT NULL,
  outcome_index INTEGER NOT NULL,
  price NUMERIC NOT NULL,
  amount NUMERIC NOT NULL,
  taker_address TEXT NOT NULL,
  maker_address TEXT NOT NULL,
  is_buy BOOLEAN NOT NULL,
  tx_hash TEXT NOT NULL,
  block_number BIGINT NOT NULL,
  block_timestamp TIMESTAMPTZ NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Kçº¿ï¼ˆOHLCVï¼‰
CREATE TABLE IF NOT EXISTS public.candles (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  network_id INTEGER NOT NULL,
  market_address TEXT NOT NULL,
  outcome_index INTEGER NOT NULL,
  resolution TEXT NOT NULL,
  open NUMERIC NOT NULL,
  high NUMERIC NOT NULL,
  low NUMERIC NOT NULL,
  close NUMERIC NOT NULL,
  volume NUMERIC NOT NULL,
  time TIMESTAMPTZ NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## éƒ¨ç½²æŒ‡å—

### æ™ºèƒ½åˆçº¦

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
export PRIVATE_KEY=your_deployer_private_key
export RPC_URL=https://rpc-amoy.polygon.technology

# 2. ç¼–è¯‘åˆçº¦
npx hardhat compile

# 3. éƒ¨ç½²
npx hardhat run scripts/deploy_offchain_sprint1.ts --network amoy
```

### å‰ç«¯

```bash
# 1. æ„å»º
cd apps/web
npm run build

# 2. éƒ¨ç½²åˆ° Vercel
vercel deploy --prod
```

### Relayer

```bash
# 1. æ„å»º
cd services/relayer
npm run build

# 2. ä½¿ç”¨ PM2 è¿è¡Œ
pm2 start dist/index.js --name foresight-relayer

# 3. æˆ–ä½¿ç”¨ Docker
docker build -t foresight-relayer .
docker run -d -p 3001:3001 foresight-relayer
```

---

## å®‰å…¨è§„èŒƒ

### æ™ºèƒ½åˆçº¦å®‰å…¨

1. **é‡å…¥ä¿æŠ¤**ï¼šæ‰€æœ‰çŠ¶æ€ä¿®æ”¹å‡½æ•°ä½¿ç”¨ `ReentrancyGuard`
2. **è®¿é—®æ§åˆ¶**ï¼šä½¿ç”¨ OpenZeppelin AccessControl
3. **é—ªç”µè´·é˜²æŠ¤**ï¼šå•åŒºå—äº¤æ˜“é‡é™åˆ¶
4. **ç­¾åå®‰å…¨**ï¼šECDSA å¯å»¶å±•æ€§æ£€æŸ¥
5. **ç†”æ–­æœºåˆ¶**ï¼šç´§æ€¥æš‚åœåŠŸèƒ½

### å‰ç«¯å®‰å…¨

1. **è¾“å…¥éªŒè¯**ï¼šä½¿ç”¨ `validateAndSanitize` æ¸…ç†ç”¨æˆ·è¾“å…¥
2. **XSS é˜²æŠ¤**ï¼šä¸ç›´æ¥æ¸²æŸ“ç”¨æˆ·åŸå§‹è¾“å…¥
3. **CSRF é˜²æŠ¤**ï¼šAPI ä½¿ç”¨ç­¾åéªŒè¯
4. **é™æµ**ï¼šä½¿ç”¨ `withRateLimit` åŒ…è£… API

---

## æ›´å¤šèµ„æº

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [React Query æ–‡æ¡£](https://tanstack.com/query/latest)
- [OpenZeppelin åˆçº¦](https://docs.openzeppelin.com/contracts)
- [UMA åè®®](https://docs.uma.xyz)
- [EIP-712 è§„èŒƒ](https://eips.ethereum.org/EIPS/eip-712)

---

**æœ€åæ›´æ–°**: 2025-12-29  
**æ–‡æ¡£ç‰ˆæœ¬**: v2.2

---

**è¯­è¨€åˆ‡æ¢ / Languages / Idioma / Langue / ì–¸ì–´:**

- [ğŸ“š DOCS.md](./DOCS.md) - English
- [ğŸ“š DOCS.zh-CN.md](./DOCS.zh-CN.md) - ç®€ä½“ä¸­æ–‡
- [ğŸ“š DOCS.es.md](./DOCS.es.md) - EspaÃ±ol
- [ğŸ“š DOCS.fr.md](./DOCS.fr.md) - FranÃ§ais
- [ğŸ“š DOCS.ko.md](./DOCS.ko.md) - í•œêµ­ì–´
